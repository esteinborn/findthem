"use strict";var TipsApp=angular.module("TipsApp",["TipsApp.filters","ui.bootstrap","ngScrollSpy"]);TipsApp.controller("TipsCtrl",["$scope","$filter","$http","$templateCache","$modal",function(a,b,c,d,e){a.navCollapsed=!0,a.isTypeClosed=!1,a.isCircClosed=!0,a.isTipsClosed=!0,a.isCircPanelOpen=!0,a.isAgeSelected=!1,a.navPos="0",a.isMc=function(){a.types.mc=!0,a.types.mcs=!1,a.types.mva=!1,a.step1()},a.isMcs=function(){a.types.mc=!1,a.types.mcs=!0,a.types.mva=!1,a.step1()},a.isMva=function(){a.types.mc=!1,a.types.mcs=!1,a.types.mva=!0,a.step1()},a.step1=function(){a.closeType(),a.openCirc()},a.step2=function(){a.closeCircPanel(),a.openTips()},a.go=function(){a.step2()},a.startOver=function(){a.navCollapsed=!0,a.toTop(),a.openType(),a.closeTips(),a.closeCirc(),a.openCircPanel(),a.types={mc:!1,mcs:!1,mva:!1},a.ages={ayc:!1,ac:!1,aa:!1},a.circs={alz:!1,dd:!1,ds:!1,aut:!1,abd:!1,run:!1,unk:!1,lwa:!1,med:!1,veh:!1,oft:!1}},a.toTop=function(a){a?window.matchMedia&&(window.matchMedia("(min-width: 767px)").matches?setTimeout(function(){window.scrollTo(0,130)},200):setTimeout(function(){window.scrollTo(0,185)},200)):window.scrollTo(0,0)},a.closeType=function(){a.isTypeClosed=!0},a.openType=function(){a.isTypeClosed=!1},a.closeCirc=function(){a.isCircClosed=!0},a.openCirc=function(){a.isCircClosed=!1},a.closeCircPanel=function(){a.isCircPanelOpen=!1},a.openCircPanel=function(){a.isCircPanelOpen=!0},a.closeTips=function(){a.isTipsClosed=!0},a.openTips=function(){a.isTipsClosed=!1},a.getNavPos=function(){return setTimeout(function(){a.navPos=document.getElementById("nav").getBoundingClientRect().top},500)},a.openInfo=function(){e.open({templateUrl:"about.htm",controller:f})};var f=function(a,b){a.ok=function(){b.close()}};a.openStartOver=function(){var b=e.open({templateUrl:"startover.htm",controller:g});b.result.then(function(b){b&&a.startOver()})};var g=function(a,b){a.ok=function(){b.close(a.resetOK=!0)},a.cancel=function(){b.close()}};a.types={mc:!1,mcs:!1,mva:!1},a.ages={ayc:!1,ac:!1,aa:!1},a.circs={alz:!1,dd:!1,ds:!1,aut:!1,abd:!1,run:!1,unk:!1,lwa:!1,med:!1,veh:!1,oft:!1},c({method:"get",url:"data/tips.json"}).success(function(b){a.tips=b[0].tips,a.resources=b[0].resources}).error(function(){})}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.modal"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/modal/backdrop.html","template/modal/window.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){k?(k=!1,i(),c.css({height:0})):(c.css({height:c[0].scrollHeight+"px"}),c[0].offsetWidth,c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i))}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(this.groups.indexOf(a),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(a){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(b,c,d,e){var f,g;e.addGroup(b),b.isOpen=!1,d.isOpen&&(f=a(d.isOpen),g=f.assign,b.$parent.$watch(f,function(a){b.isOpen=!!a})),b.$watch("isOpen",function(a){a&&e.closeOthers(b),g&&g(b.$parent,a)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(a,b,c){return function(a,b,d,e){e.setHeading(c(a,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b){b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(c,d,e){c.windowClass=e.windowClass||"",b(function(){c.animate=!0,d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,i),b.toggleClass(m,n.length()>0)}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g,0)}var k,l,m="modal-open",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&e.$apply(function(){o.dismiss(b.key)}))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();h>=0&&!k&&(l=e.$new(!0),l.index=h,k=d("<div modal-backdrop></div>")(l),f.append(k));var i=angular.element("<div modal-window></div>");i.attr("window-class",b.windowClass),i.attr("index",n.length()-1),i.attr("animate","animate"),i.html(b.content);var j=d(i)(b.scope);n.top().value.modalDomEl=j,f.append(j),f.addClass(m)},o.close=function(a,b){var c=n.get(a).value;c&&(c.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a).value;c&&(c.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,windowClass:b.windowClass})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("TipsApp.filters",[]).filter("typeFilter",function(){return function(a,b){var c=[];return angular.forEach(a,function(a){var d=a.type;d.indexOf("all")>=0?c.push(a):b.mc===!0&&d.indexOf("mc")>=0?c.push(a):b.mcs===!0&&d.indexOf("mcs")>=0?c.push(a):b.mva===!0&&d.indexOf("mva")>=0&&c.push(a)}),c}}).filter("circFilter",function(){return function(a,b){var c=[];return angular.forEach(a,function(a){var d=a.circ;d.indexOf("all")>=0||!d?c.push(a):b.alz===!0&&d.indexOf("alz")>=0?c.push(a):b.dd===!0&&d.indexOf("dd")>=0?c.push(a):b.ds===!0&&d.indexOf("ds")>=0?c.push(a):b.aut===!0&&d.indexOf("aut")>=0?c.push(a):b.abd===!0&&d.indexOf("abd")>=0?c.push(a):b.run===!0&&d.indexOf("run")>=0?c.push(a):b.unk===!0&&d.indexOf("unk")>=0?c.push(a):b.lwa===!0&&d.indexOf("lwa")>=0?c.push(a):b.med===!0&&d.indexOf("med")>=0?c.push(a):b.veh===!0&&d.indexOf("veh")>=0?c.push(a):b.oft===!0&&d.indexOf("oft")>=0&&c.push(a)}),c}}).filter("ageFilter",function(){return function(a,b){var c=[];return angular.forEach(a,function(a){var d=a.age;d.indexOf("all")>=0?c.push(a):b.ayc===!0&&d.indexOf("ayc")>=0?c.push(a):b.ac===!0&&d.indexOf("ac")>=0?c.push(a):b.aa===!0&&d.indexOf("aa")>=0&&c.push(a)}),c}}),angular.module("ngScrollSpy",[]).directive("scrollspyBroadcast",["$rootScope",function(a){return{restrict:"A",scope:{},link:function(b,c,d){b.activate=function(){b.documentHeight=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),b.userScrolledTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,b.userScrolledBottom=b.userScrolledTop+window.innerHeight,b.elementOffsetTop=c[0].offsetTop,b.elementOffsetBottom=b.elementOffsetTop+Math.max(c[0].scrollHeight,c[0].offsetHeight),b.triggerOffset=0,b.elementOffsetTop-b.triggerOffset<b.documentHeight-window.innerHeight?(b.elementOffsetTop<=b.userScrolledTop+b.triggerOffset&&a.$broadcast("spied",{activeSpy:d.id}),0===b.userScrolledTop&&a.$broadcast("atTop")):b.userScrolledBottom>b.elementOffsetBottom-b.triggerOffset&&a.$broadcast("spied",{activeSpy:d.id})},angular.element(window).bind("scroll",function(){b.activate()})}}}]).directive("scrollspyListen",["$rootScope",function(a){return{restrict:"A",scope:{scrollspyListen:"@",enabled:"@"},replace:!0,transclude:!0,template:function(a){var b=a[0].nodeName;return"<"+b+' data-ng-transclude data-ng-class="{active: enabled}"></'+b+">"},link:function(b){a.$on("spied",function(a,c){b.enabled=!1,b.scrollspyListen===c.activeSpy&&(b.enabled=!0),b.$$phase||b.$digest()})}}}]).directive("scrollspyNav",["$rootScope",function(a){return{restrict:"A",scope:{isAffixedSmall:"@",isAffixedLarge:"@"},replace:!0,transclude:!0,template:function(a){var b=a[0].nodeName;return"<"+b+" data-ng-transclude data-ng-class=\"{'navbar-fixed-top': isAffixedSmall, affix: isAffixedLarge, 'col-sm-3': isAffixedLarge}\"></"+b+">"},link:function(b,c){a.$on("spied",function(){b.currentScroll=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,b.isVisible=c[0].offsetWidth>0||c[0].offsetHeight>0,b.isVisible&&b.currentScroll>=155?window.matchMedia&&(window.matchMedia("(min-width: 767px)").matches?b.isAffixedLarge=!0:b.isAffixedSmall=!0):(b.isAffixedSmall=!1,b.isAffixedLarge=!1),b.$$phase||b.$digest()}),a.$on("atTop",function(){b.isAffixedSmall=!1,b.isAffixedLarge=!1,b.$$phase||b.$digest()})}}}]);